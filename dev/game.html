<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/style.css">
    <title>遊戲導覽</title>
</head>

<body class="game_body">
@@include('template/header.html')



<div class="game_banner">
    <div class="container">
        <div class="game_title">
                <h1>生存遊戲</h1>
        </div>
    </div>
</div>


<div class="game_role">
    <div class="banner_pyramid"><img src="../img/game/banner_pyramid.png" alt=""></div>
    <div class="banner_tree"><img src="../img/game/banner_tree.png" alt=""></div>
    <div class="banner_mountain"><img src="../img/game/banner_mountain.png" alt=""></div>
    <div class="container">
        <div class="role_title"><h2>參加角色</h2></div>
        <div class="role_info">
            <div class="role_pic">
                <div class="info_pic">
                    <img src="../img/game/info_pic.png" alt="">
                </div>
                <div class="info_name">
                    <h2>鑽向敵人的心臟</h2>
                </div>
            </div>
            <div class="role_value">
                <div class="info_value">
                    <div class="value_life">
                    生命力:<img src="../img/game/info_life.png" alt="">
                    </div>
                    <div class="value_jump">
                    跳躍力:<img src="../img/game/info_jump.png" alt="">
                    </div>
                </div>
                <div class="info_diagram">
                    <img src="../img/game/info_diagram.png" alt="">
                </div>
            </div>
        </div>
    </div>
</div>
<div class="game_scene">
    <div class="container">
        <div class="scene_title"><h2>選擇場景</h2></div>
        <div class="scene_map">
            <div class="forest_pointer">
                <div class="forest_pointer_title">森林</div>
                <img src="../img/game/scene_arrow.png" alt="">
            </div>
            <div class="desert_pointer">
                <div class="desert_pointer_title">沙漠</div>
                <img src="../img/game/scene_arrow.png" alt="">
            </div>
            <div class="mountain_pointer">
                <div class="moutain_pointer_title">高山</div>
                <img src="../img/game/scene_arrow.png" alt="">
            </div>
            <img src="../img/game/scene_map.png" alt="">
        </div>
    </div>
</div>
<div class="game_playing">
    <div class="playing_container">
        <div class="arrowLeft"><</div>

        <div class="playing_intro">
            <a href="#" class="btn_c_nextpage">
                操作說明
                @@include('template/btn_sp.html')
            </a>
        
        </div>
        <div class="playing_desert playing_window"></div>
        <div class="playing_forest playing_window"></div>
        <div class="playing_mountain playing_window"></div>
        <div class="arrowRight">></div>

    </div>

</div>
<div class="game_rank">
    <div class="container">
        <div class="rank_title"><h2>生存排行榜</h2></div>
        <div class="rank_chart">
                <div class="rank_top10_title">排行榜前十名</div>
                <div class="chart_top">
                    <div class="chart_top1">
                        <div class="top1_title">
                            <img src="../img/game/top_pic.png" alt="">
                            <div class="top_score">168秒</div>
                            <div class="top_animal">艾咪</div>
                            <div class="top_player">AABB</div>
                        </div>

                    </div>
                    <div class="chart_top2">
                        <div class="top2_title">
                            <img src="../img/game/top_pic.png" alt="">
                            <div class="top_score">168秒</div>
                            <div class="top_animal">艾咪</div>
                            <div class="top_player">AABB</div>
                        </div>

                    </div>
                    <div class="chart_top3">
                        <div class="top3_title">
                            <img src="../img/game/top_pic.png" alt="">
                            <div class="top_score">168秒</div>
                            <div class="top_animal">艾咪</div>
                            <div class="top_player">AABB</div>
                        </div>

                    </div>
                </div>
                <div class="chart_ranking">
                    <!-- <div class="ranking_row_title">
                        <div class="ranking_number">排名</div>
                        <div class="ranking_animal">動物名稱</div>
                        <div class="ranking_player">會員名稱</div>
                        <div class="ranking_timing">時間</div>
                    </div>
                    <div class="ranking_row">
                        <div class="ranking_number">4</div>
                        <div class="ranking_animal">小白獸</div>
                        <div class="ranking_player">apple7788</div>
                        <div class="ranking_timing">112秒</div>
                    </div> -->
                    <table class="ranking_table">
                        <tr>
                            <td>排名</td>
                            <td>動物名稱</td>
                            <td>會員名稱</td>
                            <td>時間</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>小白獸</td>
                            <td>apple7788</td>
                            <td>112秒</td>
                        </tr>
                    </table>
                    <img src="../img/game/chart_ranking_bottom.png" alt="">
                </div>
        </div>
    </div>
</div>


@@include('template/footer.html')
<script>
    let x,y,z,displace;

    function $cls(cls){
        return document.getElementsByClassName(cls);
    }
    
    function mapPointer(location){
        $cls('desert_pointer')[0].classList.remove('pointer_shaking');
        $cls('mountain_pointer')[0].classList.remove('pointer_shaking');
        $cls('forest_pointer')[0].classList.remove('pointer_shaking');
        $cls('forest_pointer')[0].style.filter ="hue-rotate(360deg)";
        $cls('desert_pointer')[0].style.filter ="hue-rotate(360deg)";
        $cls('mountain_pointer')[0].style.filter ="hue-rotate(360deg)";

        if(location.indexOf('forest')!=-1){
            $cls('forest_pointer')[0].classList.add('pointer_shaking');
            $cls('forest_pointer')[0].style.filter ="hue-rotate(180deg)";
        }
        if(location.indexOf('desert')!=-1){
            $cls('desert_pointer')[0].classList.add('pointer_shaking');
            $cls('desert_pointer')[0].style.filter ="hue-rotate(180deg)";
        }
        if(location.indexOf('mountain')!=-1){
            $cls('mountain_pointer')[0].classList.add('pointer_shaking');
            $cls('mountain_pointer')[0].style.filter ="hue-rotate(180deg)";
        }
    }

    function picClicked(e){
        if( e.target.style.left== x){
            sliderRight();
        }else if ( e.target.style.left == z ){
            sliderLeft();
        }
        
    }

    
    
    function sliderLeft(){
        if(window.innerWidth>=768){
            for(var j=0;j<$cls('playing_window').length; j++){
                if($cls('playing_window')[j].style.left!= x){
                    $cls('playing_window')[j].style.left = parseInt($cls('playing_window')[j].style.left)- 30 + '%';
    
                }else {
                    $cls('playing_window')[j].style.left = z;
    
                }
                if($cls('playing_window')[j].style.left== x){ 
                    $cls('playing_window')[j].style.zIndex = 2; 
                    $cls('playing_window')[j].classList.add('normalScale');
                    $cls('playing_window')[j].classList.remove('scaleUp');
                }
                if($cls('playing_window')[j].style.left== y){ 
                    $cls('playing_window')[j].style.zIndex = 4;
                    $cls('playing_window')[j].classList.remove('normalScale'); 
                    $cls('playing_window')[j].classList.add('scaleUp');
                 
                    mapPointer($cls('playing_window')[j].classList.value);

                }
                if($cls('playing_window')[j].style.left == z){ 
                    $cls('playing_window')[j].style.zIndex = 2; 
                    $cls('playing_window')[j].classList.add('normalScale');
                    $cls('playing_window')[j].classList.remove('scaleUp');
                }
            }
        }else {
            for(var k=0;k<$cls('playing_window').length;k++){
                if($cls('playing_window')[k].style.zIndex!=2){
                    $cls('playing_window')[k].style.zIndex++;
                }else{
                    $cls('playing_window')[k].style.zIndex=0;
                }
            }
        }
    }
    
    function sliderRight(){
        if(window.innerWidth>=768){
            for(var j=0;j<$cls('playing_window').length; j++){
                if($cls('playing_window')[j].style.left != z){
                    $cls('playing_window')[j].style.left = parseInt($cls('playing_window')[j].style.left) + 30 + '%';
    
                }else {
                    $cls('playing_window')[j].style.left =  x;
                }
                
                if($cls('playing_window')[j].style.left== x){ 
                    $cls('playing_window')[j].style.zIndex = 2; 
                    $cls('playing_window')[j].classList.add('normalScale');
                    $cls('playing_window')[j].classList.remove('scaleUp');
                }
                if($cls('playing_window')[j].style.left== y){ 
                    $cls('playing_window')[j].style.zIndex = 4;
                    $cls('playing_window')[j].classList.remove('normalScale'); 
                    $cls('playing_window')[j].classList.add('scaleUp');
                    mapPointer($cls('playing_window')[j].classList.value);
                }
                if($cls('playing_window')[j].style.left == z){ 
                    $cls('playing_window')[j].style.zIndex = 2; 
                    $cls('playing_window')[j].classList.add('normalScale');
                    $cls('playing_window')[j].classList.remove('scaleUp');
                }
               
            }
        }else {
            for(var k=0;k<$cls('playing_window').length;k++){
                if($cls('playing_window')[k].style.zIndex!=0){
                    $cls('playing_window')[k].style.zIndex--;
                }else{
                    $cls('playing_window')[k].style.zIndex=2;
                }
            }
        }
    }


    
    function doFirst(){
        
        $cls('arrowLeft')[0].addEventListener('click', sliderLeft);
        $cls('arrowRight')[0].addEventListener('click', sliderRight);

        if(window.innerWidth>=768){
            x="-5%"; y= "25%";  z= "55%";
            for(var i=0; i<$cls('playing_window').length; i++){
                $cls('playing_window')[i].addEventListener('click', picClicked);
                $cls('playing_window')[i].style.left = i*30 - 5+ '%';
                    if($cls('playing_window')[i].style.left== x){ 
                        $cls('playing_window')[i].style.zIndex = 2; 
                        // $cls('playing_window')[i].style.transform = 'translateY(-50%) scale:0.7';
                        $cls('playing_window')[i].classList.add('normalScale');
                        $cls('playing_window')[i].classList.remove('scaleUp');
                    }
                    if($cls('playing_window')[i].style.left== y){ 
                        $cls('playing_window')[i].style.zIndex = 22;
                        $cls('playing_window')[i].classList.remove('normalScale'); 
                        $cls('playing_window')[i].classList.add('scaleUp');
                    }
                    if($cls('playing_window')[i].style.left == z){ 
                        $cls('playing_window')[i].style.zIndex = 2; 
                        $cls('playing_window')[i].classList.add('normalScale');
                        $cls('playing_window')[i].classList.remove('scaleUp');
                    }
            }
        }else if(window.innerWidth<=767){
            for(var i=0; i<$cls('playing_window').length; i++){
                $cls('playing_window')[i].style.zIndex = i;
            }
        }
        
    }
    window.addEventListener('click', function(e){
        console.log(e.screenX,e.screenY);
    })
    window.addEventListener('load', doFirst);
    </script>
    
</body>
</html>